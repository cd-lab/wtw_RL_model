## A reinforcement learning model of adaptive persistence

*by Yixin Chen, 07/22/2023*

Welcome! This repo contains code for our manuscript. 

It consists of the top-level script, **main.R**, and folders that contain subfunctions. The script **main.R** generates figures in the order shown below. Generated data and figures will be saved under ../figures/cmb and ../genData respectively. 

Two parameter estimation steps (Step 5 and Step 10) will take hours. In the actual analysis process, we ran them on the cluster. The entire folder, ../genData, has been uploaded to https://www.dropbox.com/sh/o1aawcd38xdwjza/AABk2qWQgCelCXWWtKK0NAMua?dl=0skip. To save time, you can download ../genData, skip the parameter estimation steps, and run other steps normally. 

Below we list figures generated by each section in **main.R**.

1. Experiment schematics (Fig.1 b-c, Fig.8 a-b, Fig.9 a-b)

2. Model-free analysis (Fig.1 d-h, Fig.8 c-g, Fig.9 c-g, Fig.S1) 

3. Performance check simulation (Fig.3-4) 

4. Parameter effect simulation (Fig.7)

5. Fit models to empirical data 

6. Posterior Predictive Check (Fig.5, Fig.6b, Fig.10, Fig.S2, Fig.S3) 

7. Observed vs Model-generated, example participants (Fig.6a)

8. Quantitative model comparison (Table.6)

9. Parameter histograms and correlations (Fig.S4, Fig.S6)

10. Simulation and parameter estimation for parameter recovery

11. Plotting for parameter recovery (Fig.S5)
