## An Reinforcement Learning Model of Adaptive Persistence

Welcome! This repo contains code for our manuscript. 

It consists of the top level script, **main.R**, and folders that contain subfunctions. The script **main.R** generates figures in the order shown below. Generated data and figures will be saved under ../figures/cmb and ../genData respectively. 

Two parameter estimation steps (Step 5 and Step 10) will take hours. In the actual analysis process, we ran them on the cluster. The entire folder, ../genData, has been uploaded to https://www.dropbox.com/sh/o1aawcd38xdwjza/AABk2qWQgCelCXWWtKK0NAMua?dl=0skip. To save time, you can download ../genData, skip the parameter estimation steps, and run other steps normally. 

We also uploaded ../figures to https://www.dropbox.com/sh/o1aawcd38xdwjza/AABk2qWQgCelCXWWtKK0NAMua?dl=0skip. You can download all the generated figures there directly. 



1. Experiment schematics (Fig.1)

2. Model-free analysis (Fig.2) 

3. Performance check simulation (Fig.4-6) 

4. Parameter effect simulation (Fig.9)

5. Fit models to empirical data 

6. Comparing observed vs model-generated results, example participants (Fig.7)

7. Qualitative model comparison (Fig.8, Fig.S3) 

8. Quantitative model comparison (Table.4 and Table.S2)

9. Parameter histograms and correlations (Fig.S1 and Fig.S5-S7)

10. Simulation and parameter estimation for parameter recovery

11. Plotting for parameter recovery (Fig.S4)