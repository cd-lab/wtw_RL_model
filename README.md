## A reinforcement learning model of adaptive persistence

*by Yixin Chen, 07/22/2023*

Welcome! This repo contains code for our manuscript. 

It consists of the top-level script, **main.R**, and folders that contain subfunctions. The script **main.R** generates figures in the order shown below. Generated data and figures will be saved under ../figures/cmb and ../genData respectively. 

Two parameter estimation steps (Step 5 and Step 10) will take hours. In the actual analysis process, we ran them on the cluster. The entire folder, ../genData, has been uploaded to https://www.dropbox.com/scl/fo/rg4e26tzgacfds94uibk2/h?rlkey=qgve6n4xtjf44aztslbtgezrn&dl=0. To save time, you can download ../genData, skip the parameter estimation steps, and run other steps normally. 

Below we list figures generated by each section in **main.R**.

1. Experiment schematics (Fig. 1 b-c, Fig. 7 a-b, Fig. 8 a-b)

2. Model-free analysis (Fig. 1 d-h, Fig. 7 c-g, Fig. 8 c-g, Fig. S1) 

3. Performance check simulation (Fig. 3-4) 

4. Parameter effect simulation (Fig. 6)

5. Fit models to empirical data 

6. Posterior Predictive Check (Fig. 5, Fig. 9, Fig. S4, Fig. S5) 

7. Observed vs Model-generated, example participants (Fig. 5a)

8. Quantitative model comparison (Table 6)

9. Parameter histograms and correlations (Fig. S2, Fig. S3)

10. Simulation and parameter estimation for parameter recovery

11. Plotting for parameter recovery (Fig. S6)
